<svg width="1284" height="722" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="-2" y="-1" width="1284" height="722"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(2 1)"><path d="M155 70.0002C155 63.925 159.925 59 166 59L356 59C362.075 59 367 63.925 367 70.0002L367 114C367 120.075 362.075 125 356 125L166 125C159.925 125 155 120.075 155 114Z" fill="#9C27B0" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(169.86 100)">Activity/Fragment</text><path d="M88 247C88 237.059 96.0591 229 106 229L417 229C426.941 229 435 237.059 435 247L435 319C435 328.941 426.941 337 417 337L106 337C96.0591 337 88 328.941 88 319Z" fill="#4CAF50" fill-rule="evenodd"/><path d="M155 392C155 385.925 159.925 381 166 381L356 381C362.075 381 367 385.925 367 392L367 436C367 442.075 362.075 447 356 447L166 447C159.925 447 155 442.075 155 436Z" fill="#FF9800" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(206.187 422)">Repository<tspan font-size="24" x="-98.2941" y="-133">ViewModel</tspan></text><path d="M248.5 248.333C248.5 244.559 251.559 241.5 255.333 241.5L380.667 241.5C384.441 241.5 387.5 244.559 387.5 248.333L387.5 275.667C387.5 279.441 384.441 282.5 380.667 282.5L255.333 282.5C251.559 282.5 248.5 279.441 248.5 275.667Z" stroke="#787878" stroke-width="1.33333" stroke-miterlimit="8" fill="#A5A5A5" fill-rule="evenodd"/><path d="M261.5 261.333C261.5 257.559 264.559 254.5 268.333 254.5L393.667 254.5C397.441 254.5 400.5 257.559 400.5 261.333L400.5 288.667C400.5 292.441 397.441 295.5 393.667 295.5L268.333 295.5C264.559 295.5 261.5 292.441 261.5 288.667Z" stroke="#787878" stroke-width="1.33333" stroke-miterlimit="8" fill="#A5A5A5" fill-rule="evenodd"/><path d="M272.5 275.333C272.5 271.56 275.559 268.5 279.333 268.5L405.667 268.5C409.441 268.5 412.5 271.56 412.5 275.333L412.5 302.667C412.5 306.441 409.441 309.5 405.667 309.5L279.333 309.5C275.559 309.5 272.5 306.441 272.5 302.667Z" stroke="#787878" stroke-width="1.33333" stroke-miterlimit="8" fill="#A5A5A5" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(297.93 296)">LiveData</text><path d="M322.674 665.944C320.009 656.514 333.729 647.83 353.319 646.547 361.257 646.027 369.328 646.804 376.24 648.754 383.564 642.108 400.68 639.582 414.468 643.112 416.879 643.73 419.092 644.512 421.038 645.435 426.742 639.926 440.636 637.688 452.072 640.436 455.237 641.197 457.997 642.297 460.142 643.652 469.336 638.442 485.583 637.798 496.43 642.214 500.989 644.07 504.062 646.63 505.121 649.455 520.186 651.434 529.073 658.929 524.971 666.196 524.626 666.806 524.193 667.405 523.676 667.987 535.758 675.559 532.8 686.412 517.07 692.228 512.173 694.038 506.39 695.21 500.278 695.631 500.142 703.777 486.303 710.328 469.367 710.263 463.709 710.241 458.173 709.466 453.373 708.025 447.645 717.158 427.664 722.32 408.745 719.555 400.816 718.396 393.966 715.945 389.362 712.62 369.991 718.245 344.848 715.219 333.204 705.862 333.057 705.744 332.913 705.626 332.772 705.506 320.094 706.221 308.611 701.866 307.123 695.779 306.33 692.535 308.554 689.288 313.204 686.903 302.227 683.792 298.54 676.963 304.968 671.651 308.676 668.586 315.181 666.56 322.481 666.196Z" fill="#006064" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(347.946 685)">WebService</text><path d="M50.5001 649.625C50.5001 655.217 78.4823 659.75 113 659.75 147.518 659.75 175.5 655.217 175.5 649.625L175.5 710.375C175.5 715.967 147.518 720.5 113 720.5 78.4823 720.5 50.5001 715.967 50.5001 710.375Z" fill="#01579B" fill-rule="evenodd"/><path d="M50.5001 649.625C50.5001 644.033 78.4823 639.5 113 639.5 147.518 639.5 175.5 644.033 175.5 649.625 175.5 655.217 147.518 659.75 113 659.75 78.4823 659.75 50.5001 655.217 50.5001 649.625Z" fill="#679AC3" fill-rule="evenodd"/><path d="M175.5 649.625C175.5 655.217 147.518 659.75 113 659.75 78.4823 659.75 50.5001 655.217 50.5001 649.625 50.5001 644.033 78.4823 639.5 113 639.5 147.518 639.5 175.5 644.033 175.5 649.625L175.5 710.375C175.5 715.967 147.518 720.5 113 720.5 78.4823 720.5 50.5001 715.967 50.5001 710.375L50.5001 649.625" stroke="#2F528F" stroke-width="1.33333" stroke-miterlimit="8" fill="none" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(78.6671 692)">SQLite</text><path d="M0.999978-0.00664481 1.19757 29.7288-0.802387 29.7421-0.999978 0.00664481ZM4.18864 28.3756 0.24189 36.402-3.81118 28.4287Z" fill="#A5A5A5" transform="matrix(-1 0 0 1 112.242 602)"/><path d="M262 124.999 262.072 222.145 260.072 222.146 260 125.001ZM265.071 220.809 261.077 228.812 257.071 220.815Z" fill="#A5A5A5"/><path d="M262 337 262 374.725 260 374.725 260 337ZM265 373.391 261 381.391 257 373.391Z" fill="#A5A5A5"/><path d="M367 413 412.666 413 412.666 487.329 410.666 487.329 410.666 414 411.666 415 367 415ZM415.666 485.995 411.666 493.995 407.666 485.995Z" fill="#A5A5A5"/><path d="M0-1 43.8678-1 43.8678 73.3286 41.8678 73.3286 41.8678 0 42.8678 1 0 1ZM46.8678 71.9953 42.8678 79.9953 38.8678 71.9953Z" fill="#A5A5A5" transform="matrix(-1 1.22465e-16 1.22465e-16 1 154.868 414)"/><path d="M417 601.987 417.444 636.362 415.444 636.388 415 602.013ZM420.427 634.99 416.53 643.041 412.427 635.094Z" fill="#A5A5A5"/><path d="M298 512C298 502.059 306.059 494 316 494L507 494C516.941 494 525 502.059 525 512L525 584C525 593.941 516.941 602 507 602L316 602C306.059 602 298 593.941 298 584Z" fill="#009688" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(306.898 536)">Remote Data Source</text><path d="M358 568.667C358 564.985 360.985 562 364.667 562L467.333 562C471.015 562 474 564.985 474 568.667L474 595.333C474 599.015 471.015 602 467.333 602L364.667 602C360.985 602 358 599.015 358 595.333Z" fill="#A5A5A5" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(377.963 590)">Retrofit</text><path d="M-1 512C-1 502.059 7.05904 494 17.0004 494L208 494C217.941 494 226 502.059 226 512L226 584C226 593.941 217.941 602 208 602L17.0004 602C7.05904 602-1 593.941-1 584Z" fill="#03A9F4" fill-rule="evenodd"/><path d="M54 568.667C54 564.985 56.9849 562 60.6669 562L164.333 562C168.015 562 171 564.985 171 568.667L171 595.333C171 599.015 168.015 602 164.333 602L60.6669 602C56.9849 602 54 599.015 54 595.333Z" fill="#A5A5A5" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="DengXian,DengXian_MSFontService,sans-serif" font-weight="400" font-size="24" transform="translate(81.5756 590)">Room<tspan font-size="24" x="-4.14604" y="-54">Model</tspan></text><path d="M537 397.5 617 397.5 617 381 650 414 617 447 617 430.5 537 430.5Z" fill="#4472C4" fill-rule="evenodd"/><path d="M537 530.75 616.5 530.75 616.5 514 650 547.5 616.5 581 616.5 564.25 537 564.25Z" fill="#4472C4" fill-rule="evenodd"/><path d="M536 266.5 617 266.5 617 250 650 283 617 316 617 299.5 536 299.5Z" fill="#4472C4" fill-rule="evenodd"/><path d="M535 76.5001 615 76.5001 615 60 648 93 615 126 615 109.5 535 109.5Z" fill="#4472C4" fill-rule="evenodd" fill-opacity="0.988235"/><rect x="650" y="514" width="629" height="68" fill="#2B2B2B"/><text fill="#BBB529" font-family="Cascadia Code PL,Cascadia Code PL_MSFontService,sans-serif" font-weight="400" font-size="16" transform="translate(660.055 535)">@GET<tspan fill="#A9B7C6" font-size="16" x="37.3334" y="0">(</tspan><tspan fill="#6A8759" font-size="16" x="46.6667" y="0">"home/feed"</tspan><tspan fill="#A9B7C6" font-size="16" x="149.333" y="0">)</tspan><tspan fill="#CC7832" font-size="16" x="0" y="20">suspend fun </tspan><tspan fill="#FFC66D" font-size="16" x="112" y="20">getHomeFeed</tspan><tspan fill="#A9B7C6" font-size="16" x="214.667" y="20">(</tspan><tspan font-size="16" x="224" y="20">@Query</tspan><tspan fill="#A9B7C6" font-size="16" x="280" y="20">(</tspan><tspan fill="#6A8759" font-size="16" x="289.333" y="20">"cityId"</tspan><tspan fill="#A9B7C6" font-size="16" x="364" y="20">) cityId: Int): </tspan><tspan fill="#A9B7C6" font-size="16" x="0" y="39">XXXResponse&lt;HomeFeedData&gt;</tspan></text><rect x="649" y="210" width="632" height="145" fill="#2B2B2B"/><text fill="#CC7832" font-family="Cascadia Code PL,Cascadia Code PL_MSFontService,sans-serif" font-weight="400" font-size="16" transform="translate(658.732 230)">val <tspan fill="#9876AA" font-size="16" x="37.3333" y="0">homeFeed </tspan><tspan fill="#A9B7C6" font-size="16" x="121.333" y="0">= MutableLiveData&lt;HttpResult&lt;HomeFeedData&gt;&gt;()</tspan><tspan font-size="16" x="0" y="39">fun </tspan><tspan fill="#FFC66D" font-size="16" x="37.3333" y="39">getHomeFeed</tspan><tspan fill="#A9B7C6" font-size="16" x="140" y="39">(cityId: Int) {</tspan><tspan font-size="16" x="37.3333" y="58">return </tspan><tspan fill="#A9B7C6" font-size="16" x="102.667" y="58">viewModelScope.launch </tspan><tspan fill="#A9B7C6" font-weight="700" font-size="16" x="308" y="58">{</tspan><tspan fill="#9876AA" font-size="16" x="74.6666" y="77">homeFeed</tspan><tspan fill="#A9B7C6" font-size="16" x="149.333" y="77">.value = XXXRepository.getHomeFeed(cityId)</tspan><tspan fill="#A9B7C6" font-weight="700" font-size="16" x="37.3333" y="96">}</tspan><tspan fill="#A9B7C6" font-size="16" x="0" y="116">}</tspan></text><rect x="648" y="0" width="632" height="184" fill="#2B2B2B"/><text fill="#A9B7C6" font-family="Cascadia Code PL,Cascadia Code PL_MSFontService,sans-serif" font-weight="400" font-size="16" transform="translate(658.071 21)">viewModel.getHomeFeed(cityId)<tspan font-size="16" x="0" y="39">viewModel.homeFeed.observe(</tspan><tspan fill="#CC7832" font-size="16" x="252" y="39">this</tspan><tspan font-size="16" x="289.333" y="39">) { result </tspan><tspan font-size="16" x="392" y="39">-</tspan><tspan font-size="16" x="401.333" y="39">&gt;</tspan><tspan fill="#CC7832" font-size="16" x="37.3333" y="58">when </tspan><tspan font-size="16" x="84" y="58">(result) {</tspan><tspan fill="#CC7832" font-size="16" x="74.6666" y="77">is </tspan>HttpResult.Success <tspan font-size="16" x="280" y="77">-</tspan><tspan font-size="16" x="289.333" y="77">&gt; {}</tspan><tspan fill="#CC7832" font-size="16" x="74.6666" y="96">is </tspan>HttpResult.Failure <tspan font-size="16" x="280" y="96">-</tspan><tspan font-size="16" x="289.333" y="96">&gt; {}</tspan><tspan fill="#CC7832" font-size="16" x="74.6666" y="116">is </tspan>HttpResult.Error -<tspan font-size="16" x="270.667" y="116">&gt; {}</tspan><tspan font-size="16" x="37.3333" y="135">}</tspan><tspan font-size="16" x="0" y="154">}</tspan></text><rect x="650" y="380" width="631" height="68" fill="#2B2B2B"/><text fill="#CC7832" font-family="Cascadia Code PL,Cascadia Code PL_MSFontService,sans-serif" font-weight="400" font-size="16" transform="translate(659.393 401)">suspend fun <tspan fill="#FFC66D" font-size="16" x="112" y="0">getHomeFeed</tspan><tspan fill="#A9B7C6" font-size="16" x="214.667" y="0">(cityId: Int): HttpResult&lt;HomeFeedData&gt; {</tspan><tspan font-size="16" x="37.3333" y="20">return </tspan><tspan fill="#A9B7C6" font-size="16" x="102.667" y="20">call </tspan><tspan fill="#A9B7C6" font-weight="700" font-size="16" x="149.333" y="20">{ </tspan><tspan fill="#A9B7C6" font-size="16" x="168" y="20">service.getHomeFeed(cityId) </tspan><tspan fill="#A9B7C6" font-weight="700" font-size="16" x="429.333" y="20">}</tspan><tspan fill="#A9B7C6" font-size="16" x="0" y="39">}</tspan></text></g></svg>